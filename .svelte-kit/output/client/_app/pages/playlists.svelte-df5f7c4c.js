import{S as q,i as A,s as D,e as g,k,t as N,c as v,a as b,d as _,n as P,g as Q,b as h,Q as H,f as x,D as y,h as T,T as W,U as I,V,C as X,j as C,m as G,o as M,x as $,u as w,v as R,L as z,w as F,W as J,X as K,r as O}from"../chunks/vendor-73c04143.js";import{H as Y}from"../chunks/heading-4038fcdd.js";function Z(c){let s,r,e,n,f,u,m,a,p=c[0].name+"",t,i,l;return{c(){s=g("a"),r=g("div"),e=g("img"),m=k(),a=g("h2"),t=N(p),this.h()},l(o){s=v(o,"A",{class:!0,href:!0});var d=b(s);r=v(d,"DIV",{class:!0});var j=b(r);e=v(j,"IMG",{class:!0,src:!0,alt:!0}),j.forEach(_),m=P(d),a=v(d,"H2",{class:!0});var S=b(a);t=Q(S,p),S.forEach(_),d.forEach(_),this.h()},h(){h(e,"class","object-cover h-48 w-48 rounded-2xl"),H(e.src,n=c[0].image)||h(e,"src",n),h(e,"alt",f=""+(c[0].name+" playlist cover")),h(r,"class","bg-slate-700 hover:bg-slate-600 drop-shadow-xl"),h(a,"class","text-2xl lowercase m-2"),h(s,"class","p-6 bg-slate-700 text-slate-100 text-center rounded-md shadow-sm hover:bg-slate-600 flex flex-col items-center"),h(s,"href",i=`/playlists/${c[0].id}`)},m(o,d){x(o,s,d),y(s,r),y(r,e),y(s,m),y(s,a),y(a,t),l=!0},p(o,[d]){(!l||d&1&&!H(e.src,n=o[0].image))&&h(e,"src",n),(!l||d&1&&f!==(f=""+(o[0].name+" playlist cover")))&&h(e,"alt",f),(!l||d&1)&&p!==(p=o[0].name+"")&&T(t,p),(!l||d&1&&i!==(i=`/playlists/${o[0].id}`))&&h(s,"href",i)},i(o){l||(W(()=>{u||(u=I(r,V,{},!0)),u.run(1)}),l=!0)},o(o){u||(u=I(r,V,{},!1)),u.run(0),l=!1},d(o){o&&_(s),o&&u&&u.end()}}}function ee(c,s,r){let{playlist:e}=s;return c.$$set=n=>{"playlist"in n&&r(0,e=n.playlist)},[e]}class te extends q{constructor(s){super();A(this,s,ee,Z,D,{playlist:0})}}const U=X([]),se=async()=>{const e=(await(await fetch("http://localhost:8080/spotify-recommender/v1/users/bf4s7snymgeuagx1nk23ag0uc/playlists")).json()).items.map((n,f)=>({id:n.id,name:n.name,image:n.imageUrl}));U.set(e)};se();function B(c,s,r){const e=c.slice();return e[1]=s[r],e}function L(c){let s,r;return s=new te({props:{playlist:c[1]}}),{c(){C(s.$$.fragment)},l(e){G(s.$$.fragment,e)},m(e,n){M(s,e,n),r=!0},p(e,n){const f={};n&1&&(f.playlist=e[1]),s.$set(f)},i(e){r||($(s.$$.fragment,e),r=!0)},o(e){w(s.$$.fragment,e),r=!1},d(e){R(s,e)}}}function le(c){let s,r,e,n,f,u;document.title=s="Spotify Playlist Recommender - "+E,e=new Y({props:{heading:E}});let m=c[0],a=[];for(let t=0;t<m.length;t+=1)a[t]=L(B(c,m,t));const p=t=>w(a[t],1,1,()=>{a[t]=null});return{c(){r=k(),C(e.$$.fragment),n=k(),f=g("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){z('[data-svelte="svelte-1yp5kda"]',document.head).forEach(_),r=P(t),G(e.$$.fragment,t),n=P(t),f=v(t,"DIV",{class:!0});var l=b(f);for(let o=0;o<a.length;o+=1)a[o].l(l);l.forEach(_),this.h()},h(){h(f,"class","p-4 grid gap-4 lg:grid-cols-4 md:grid-cols-3 grid-cols-1")},m(t,i){x(t,r,i),M(e,t,i),x(t,n,i),x(t,f,i);for(let l=0;l<a.length;l+=1)a[l].m(f,null);u=!0},p(t,[i]){if((!u||i&0)&&s!==(s="Spotify Playlist Recommender - "+E)&&(document.title=s),i&1){m=t[0];let l;for(l=0;l<m.length;l+=1){const o=B(t,m,l);a[l]?(a[l].p(o,i),$(a[l],1)):(a[l]=L(o),a[l].c(),$(a[l],1),a[l].m(f,null))}for(O(),l=m.length;l<a.length;l+=1)p(l);F()}},i(t){if(!u){$(e.$$.fragment,t);for(let i=0;i<m.length;i+=1)$(a[i]);u=!0}},o(t){w(e.$$.fragment,t),a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)w(a[i]);u=!1},d(t){t&&_(r),R(e,t),t&&_(n),t&&_(f),J(a,t)}}}const E="Playlists";function ae(c,s,r){let e;return K(c,U,n=>r(0,e=n)),[e]}class ie extends q{constructor(s){super();A(this,s,ae,le,D,{})}}export{ie as default};
